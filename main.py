from HttpClientHelper import TLSHttpClient
import tkinter as tk
from tkinter import scrolledtext, messagebox
import random
import threading
import fetch
from SolveCaptcha import ocr_from_base64
from ui import UiWindow
import sys
#pyside6-designer
#base64code="data:image/png;base64,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"
#CaptchaResult = ocr_from_base64(base64code)
#client = TLSHttpClient()
#client.playwright_request("https://tkglobal.melon.com/main/index.htm?langCd=EN")
u=UiWindow()
u.start_ui_task()
t = threading.Thread(target=fetch.fetch_thread)
t.daemon = True
t.start()

def start_fetch_thread():
    t = threading.Thread(target=fetch.fetch_thread)
    t.daemon = True
    t.start()
#client = TLSHttpClient()
#client.get("https://tkglobal.melon.com/main/index.htm?langCd=EN")
#client.post("https://gmember.melon.com/login/login_proc.htm","rtnUrl=https%3A%2F%2Ftkglobal.melon.com%2Fmain%2Findex.htm&langCd=EN&email=877605465%40qq.com&pwd=gg4718910")
